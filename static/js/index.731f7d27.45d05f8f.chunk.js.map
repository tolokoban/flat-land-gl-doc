{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../../flat-land-gl/dist/webgl/program.js","../../flat-land-gl/dist/painter/painter.js","../../flat-land-gl/dist/converter/string.js","../../flat-land-gl/dist/painter/background/background.js","../../flat-land-gl/dist/painter/clear.js","../../flat-land-gl/dist/painter/index.js","../../flat-land-gl/dist/atlas.js","../../flat-land-gl/dist/webgl/resize.js","../../flat-land-gl/dist/scene.js","../../flat-land-gl/dist/index.js","App.tsx","serviceWorker.ts","index.tsx","canvas.tsx","page/tutorial/clear/index.tsx"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_typeof2","obj","Symbol","iterator","constructor","_typeof","_possibleConstructorReturn","self","call","ReferenceError","_setPrototypeOf","p","_inherits","subClass","superClass","create","value","__values","s","m","next","done","BPE","Float32Array","BYTES_PER_ELEMENT","Program","gl","codes","includes","vert","Error","frag","parseInclude","parseIncludes","this","freeze","_typesNamesLookup","lookup","k","toUpperCase","v","getTypesNamesLookup","shaderProgram","createProgram","program","vertShader","code","getShader","VERTEX_SHADER","getVertexShader","attachShader","fragShader","FRAGMENT_SHADER","getFragmentShader","linkProgram","use","useProgram","attribs","createAttributes","uniforms","createUniforms","attribsCount","getProgramParameter","ACTIVE_ATTRIBUTES","index","item","getActiveAttrib","typeName","getTypeName","type","getSize","location","getAttribLocation","name","FLOAT_VEC4","FLOAT_VEC3","FLOAT_VEC2","FLOAT","typeId","bindAttribs","buffer","e_1","_a","e_2","_b","names","_i","arguments","that","bindBuffer","ARRAY_BUFFER","totalSize","names_1","names_1_1","name_1","attrib","keys","map","join","size","e_1_1","error","return","offset","names_2","names_2_1","name_2","enableVertexAttribArray","vertexAttribPointer","e_2_1","setUniform","uniformsCount","ACTIVE_UNIFORMS","getActiveUniform","location_1","getUniformLocation","set","createUniformSetter","get","createUniformGetter","nameGL","nameJS","BYTE","UNSIGNED_BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","SAMPLER_2D","uniform1i","uniform1iv","uniform1f","uniform1fv","uniform2fv","uniform3fv","uniform4fv","FLOAT_MAT3","uniformMatrix3fv","FLOAT_MAT4","uniformMatrix4fv","split","line","trim","substr","pos","indexOf","includeName","charAt","snippet","console","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","log","getShaderInfoLog","Painter","_name","scene","$attachPainter","destroy","$detachPainter","shaders","fatal","message","castString","defaultValue","t","isNaN","__extends","_extendStatics","d","b","Array","hasOwnProperty","__","_super","BackgroundPainter","params","_this","atlasName","atlas","getAtlas","prg","getVert","align","FRAG","buff","createBuffer","bufferData","STATIC_DRAW","render","disable","DEPTH_TEST","activate","$uniTexture","width","height","drawArrays","TRIANGLE_STRIP","x","y","Background","Clear","ClearPainter","_red","_green","_blue","_alpha","clearColor","clear","COLOR_BUFFER_BIT","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","e","rejected","result","then","apply","__generator","body","f","g","_","label","sent","trys","ops","verb","n","op","pop","push","Atlas","_ready","_width","_height","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","loadImage","image","deleteTexture","unit","UNITS","TEXTURE0","TEXTURE1","TEXTURE2","TEXTURE3","TEXTURE4","TEXTURE5","TEXTURE6","TEXTURE7","activeTexture","Math","abs","url","img","Image","onload","texImage2D","RGBA","onerror","src","resolution","window","devicePixelRatio","canvas","displayWidth","floor","clientWidth","displayHeight","clientHeight","viewport","FlatLand","activePainters","isRendering","onAnimation","time","requestAnimationFrame","_c","ex","stop","getContext","atlases","Map","painters","createAtlas","destroyAtlas","delete","painter","has","filter","drawingBufferWidth","drawingBufferHeight","start","Scene","App","className","href","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","Canvas","ref","React","createRef","current","init","Component"],"mappings":"4FAAe,SAASA,EAAgBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAFxB,mC,6BCAA,SAASC,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAInC,SAASO,EAAad,EAAae,EAAYC,GAG5D,OAFID,GAAYb,EAAkBF,EAAYiB,UAAWF,GACrDC,GAAad,EAAkBF,EAAagB,GACzChB,EAbT,mC,6BCAe,SAASkB,EAAgBC,GAItC,OAHAD,EAAkBP,OAAOS,eAAiBT,OAAOU,eAAiB,SAAyBF,GACzF,OAAOA,EAAEG,WAAaX,OAAOU,eAAeF,KAEvBA,GAJzB,mC,6BCAA,SAASI,EAASC,GAA4T,OAA1OD,EAArD,oBAAXE,QAAoD,kBAApBA,OAAOC,SAAoC,SAAkBF,GAAO,cAAcA,GAA4B,SAAkBA,GAAO,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOR,UAAY,gBAAkBO,IAA0BA,GAE/U,SAASI,EAAQJ,GAW9B,OATEI,EADoB,oBAAXH,QAAuD,WAA9BF,EAASE,OAAOC,UACxC,SAAiBF,GACzB,OAAOD,EAASC,IAGR,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOR,UAAY,SAAWM,EAASC,KAIhHA,GCXF,SAASK,EAA2BC,EAAMC,GACvD,OAAIA,GAA2B,WAAlBH,EAAQG,IAAsC,oBAATA,ECHrC,SAAgCD,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIE,eAAe,6DAG3B,OAAOF,EDEA,CAAsBA,GAHpBC,EAJX,mC,6BEAe,SAASE,EAAgBd,EAAGe,GAMzC,OALAD,EAAkBtB,OAAOS,gBAAkB,SAAyBD,EAAGe,GAErE,OADAf,EAAEG,UAAYY,EACPf,IAGcA,EAAGe,GCLb,SAASC,EAAUC,EAAUC,GAC1C,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIpC,UAAU,sDAGtBmC,EAASnB,UAAYN,OAAO2B,OAAOD,GAAcA,EAAWpB,UAAW,CACrEU,YAAa,CACXY,MAAOH,EACP1B,UAAU,EACVD,cAAc,KAGd4B,GAAY,EAAeD,EAAUC,GAb3C,mC,6BCAA,IAAIG,EAAoC,SAAUrB,GAChD,IAAIsB,EAAsB,oBAAXhB,QAAyBA,OAAOC,SAC3CgB,EAAID,GAAKtB,EAAEsB,GACXpC,EAAI,EACR,GAAIqC,EAAG,OAAOA,EAAEX,KAAKZ,GACrB,GAAIA,GAAyB,kBAAbA,EAAEb,OAAqB,MAAO,CAC5CqC,KAAM,WAEJ,OADIxB,GAAKd,GAAKc,EAAEb,SAAQa,OAAI,GACrB,CACLoB,MAAOpB,GAAKA,EAAEd,KACduC,MAAOzB,KAIb,MAAM,IAAIlB,UAAUwC,EAAI,0BAA4B,oCAGlDI,GAAM,IAAIC,cAAeC,kBAyTd,EAnSf,WACE,SAASC,EAAQC,EAAIC,EAAOC,GAK1B,QAJiB,IAAbA,IACFA,EAAW,IAGa,kBAAfD,EAAME,KACf,MAAMC,MAAM,iEAGd,GAA0B,kBAAfH,EAAMI,KACf,MAAMD,MAAM,iEAGdH,EA4RJ,SAAuBA,EAAOC,GAC5B,MAAO,CACLC,KAAMG,EAAaL,EAAME,KAAMD,GAC/BG,KAAMC,EAAaL,EAAMI,KAAMH,IA/RvBK,CAAcN,EAAOC,GAC7BM,KAAKR,GAAKA,EACVtC,OAAO+C,OAAOD,KAAKR,IACnBQ,KAAKZ,IAAMA,EACXlC,OAAO+C,OAAOD,KAAKZ,KACnBY,KAAKE,kBAsVT,SAA6BV,GAC3B,IAAIW,EAAS,GAEb,IAAK,IAAIC,KAAKZ,EACZ,GAAIY,IAAMA,EAAEC,cAAZ,CACA,IAAIC,EAAId,EAAGY,GAEM,kBAANE,IACTH,EAAOG,GAAKF,GAIhB,OAAOD,EAlWoBI,CAAoBf,GAC7C,IAAIgB,EAAgBhB,EAAGiB,gBAEvB,IAAKD,EACH,MAAMZ,MAAM,kCAGdI,KAAKU,QAAUF,EACf,IAAIG,EA0UR,SAAyBnB,EAAIoB,GAC3B,OAAOC,EAAUrB,EAAGsB,cAAetB,EAAIoB,GA3UpBG,CAAgBvB,EAAIC,EAAME,MAC3CH,EAAGwB,aAAaR,EAAeG,GAC/B,IAAIM,EAoUR,SAA2BzB,EAAIoB,GAC7B,OAAOC,EAAUrB,EAAG0B,gBAAiB1B,EAAIoB,GArUtBO,CAAkB3B,EAAIC,EAAMI,MAC7CL,EAAGwB,aAAaR,EAAeS,GAC/BzB,EAAG4B,YAAYZ,GAEfR,KAAKqB,IAAM,WACT7B,EAAG8B,WAAWd,IAGhBR,KAAKuB,QAAUvB,KAAKwB,mBACpBxB,KAAKyB,SAAWzB,KAAK0B,iBA0PvB,OAvPAnC,EAAQ/B,UAAUgE,iBAAmB,WAQnC,IAPA,IACIhC,EADKQ,KACGR,GACRkB,EAFKV,KAEQU,QAEba,EAAU,GACVI,EAAenC,EAAGoC,oBAAoBlB,EAASlB,EAAGqC,mBAE7CC,EAAQ,EAAGA,EAAQH,EAAcG,IAAS,CACjD,IAAIC,EAAOvC,EAAGwC,gBAAgBtB,EAASoB,GAClCC,IACLA,EAAKE,SAAWjC,KAAKkC,YAAYH,EAAKI,MACtCJ,EAAKlF,OAASmD,KAAKoC,QAAQ5C,EAAIuC,GAC/BA,EAAKM,SAAW7C,EAAG8C,kBAAkB5B,EAASqB,EAAKQ,MACnDhB,EAAQQ,EAAKQ,MAAQR,EACrB7E,OAAOC,eAAe6C,KAAM,IAAM+B,EAAKQ,KAAM,CAC3CzD,MAAOiD,EAAKM,SACZpF,UAAU,EACVF,YAAY,EACZC,cAAc,KAIlB,OAAOuE,GAGThC,EAAQ/B,UAAU4E,QAAU,SAAU5C,EAAIuC,GACxC,OAAQA,EAAKI,MACX,KAAK3C,EAAGgD,WACN,OAAO,EAET,KAAKhD,EAAGiD,WACN,OAAO,EAET,KAAKjD,EAAGkD,WACN,OAAO,EAET,KAAKlD,EAAGmD,MACN,OAAO,EAET,QACE,MAAM/C,MAAM,mEAAqEmC,EAAKQ,KAAO,mCAAqCvC,KAAKkC,YAAYH,EAAKI,MAAQ,OAItK5C,EAAQ/B,UAAU6D,IAAM,WACtBrB,KAAKR,GAAG8B,WAAWtB,KAAKU,UAG1BnB,EAAQ/B,UAAU0E,YAAc,SAAUU,GACxC,OAAO5C,KAAKE,kBAAkB0C,IAGhCrD,EAAQ/B,UAAUqF,YAAc,SAAUC,GAKxC,IAJA,IAAIC,EAAKC,EAAIC,EAAKC,EAEdC,EAAQ,GAEHC,EAAK,EAAGA,EAAKC,UAAUxG,OAAQuG,IACtCD,EAAMC,EAAK,GAAKC,UAAUD,GAG5B,IAAIE,EAAOtD,KACPR,EAAKQ,KAAKR,GACdA,EAAG+D,WAAW/D,EAAGgE,aAAcV,GAC/B,IAAIW,EAAY,EAEhB,IACE,IAAK,IAAIC,EAAU3E,EAASoE,GAAQQ,EAAYD,EAAQxE,QAASyE,EAAUxE,KAAMwE,EAAYD,EAAQxE,OAAQ,CAC3G,IAAI0E,EAASD,EAAU7E,MAGvB,KAFI+E,EAASP,EAAK/B,QAAQqC,IAGxB,MAAMhE,MAAM,0BAA6BgE,EAAS,qFAAkG1G,OAAO4G,KAAKR,EAAK/B,SAASwC,KAAI,SAAUxB,GAC1L,MAAO,IAAMA,EAAO,OACnByB,KAAK,MAAS,KAAOV,EAAK/B,QAAQ1E,OAAS,KAGhD4G,GAAaI,EAAOI,KAAOJ,EAAOhH,OAASuC,GAE7C,MAAO8E,GACPnB,EAAM,CACJoB,MAAOD,GAET,QACA,IACMP,IAAcA,EAAUxE,OAAS6D,EAAKU,EAAQU,SAASpB,EAAG1E,KAAKoF,GACnE,QACA,GAAIX,EAAK,MAAMA,EAAIoB,OAIvB,IAAIE,EAAS,EAEb,IACE,IAAK,IAAIC,EAAUvF,EAASoE,GAAQoB,EAAYD,EAAQpF,QAASqF,EAAUpF,KAAMoF,EAAYD,EAAQpF,OAAQ,CAC3G,IAAIsF,EAASD,EAAUzF,MACnB+E,EAASP,EAAK/B,QAAQiD,GAC1BhF,EAAGiF,wBAAwBZ,EAAOxB,UAClC7C,EAAGkF,oBAAoBb,EAAOxB,SAAUwB,EAAOI,KAAOJ,EAAOhH,OAAQ2C,EAAGmD,OAAO,EAC/Ec,EAAWY,GACXA,GAAUR,EAAOI,KAAOJ,EAAOhH,OAASuC,GAE1C,MAAOuF,GACP1B,EAAM,CACJkB,MAAOQ,GAET,QACA,IACMJ,IAAcA,EAAUpF,OAAS+D,EAAKoB,EAAQF,SAASlB,EAAG5E,KAAKgG,GACnE,QACA,GAAIrB,EAAK,MAAMA,EAAIkB,SAKzB5E,EAAQ/B,UAAUoH,WAAa,SAAUrC,EAAMzD,GAEnCkB,KADD,IAAMuC,GAELzD,GAGZS,EAAQ/B,UAAUkE,eAAiB,WAQjC,IAPA,IACIlC,EADKQ,KACGR,GACRkB,EAFKV,KAEQU,QAEbe,EAAW,GACXoD,EAAgBrF,EAAGoC,oBAAoBlB,EAASlB,EAAGsF,iBAE9ChD,EAAQ,EAAGA,EAAQ+C,EAAe/C,IAAS,CAClD,IAAIC,EAAOvC,EAAGuF,iBAAiBrE,EAASoB,GACxC,GAAKC,EAAL,CACA,IAAIiD,EAAaxF,EAAGyF,mBAAmBvE,EAASqB,EAAKQ,MAChDyC,IACLvD,EAASM,EAAKQ,MAAQyC,EACtB9H,OAAOC,eAAe6C,KAAM,IAAM+B,EAAKQ,KAAM,CAC3C2C,IAAKlF,KAAKmF,oBAAoBpD,EAAMN,EAASM,EAAKQ,MAAOvC,KAAKE,mBAC9DkF,IAAKpF,KAAKqF,oBAAoBtD,GAC9BhF,YAAY,EACZC,cAAc,MAIlB,OAAOyE,GAGTlC,EAAQ/B,UAAU2H,oBAAsB,SAAUpD,EAAMuD,EAAQnF,GAC9D,IAAIX,EAAKQ,KAAKR,GACV+F,EAAS,KAAOxD,EAAKQ,KAEzB,OAAQR,EAAKI,MACX,KAAK3C,EAAGgG,KACR,KAAKhG,EAAGiG,cACR,KAAKjG,EAAGkG,MACR,KAAKlG,EAAGmG,eACR,KAAKnG,EAAGoG,IACR,KAAKpG,EAAGqG,aACR,KAAKrG,EAAGsG,WAEN,OAAkB,IAAd/D,EAAKkC,KACA,SAAU3D,GACfd,EAAGuG,UAAUT,EAAQhF,GACrBN,KAAKuF,GAAUjF,GAGV,SAAUA,GACfd,EAAGwG,WAAWV,EAAQhF,GACtBN,KAAKuF,GAAUjF,GAIrB,KAAKd,EAAGmD,MACN,OAAkB,IAAdZ,EAAKkC,KACA,SAAU3D,GACfd,EAAGyG,UAAUX,EAAQhF,GACrBN,KAAKuF,GAAUjF,GAGV,SAAUA,GACfd,EAAG0G,WAAWZ,EAAQhF,GACtBN,KAAKuF,GAAUjF,GAIrB,KAAKd,EAAGkD,WACN,GAAkB,IAAdX,EAAKkC,KACP,OAAO,SAAU3D,GACfd,EAAG2G,WAAWb,EAAQhF,GACtBN,KAAKuF,GAAUjF,GAGjB,MAAMV,MAAM,wFAA0FmC,EAAKQ,KAAO,OAGtH,KAAK/C,EAAGiD,WACN,GAAkB,IAAdV,EAAKkC,KACP,OAAO,SAAU3D,GACfd,EAAG4G,WAAWd,EAAQhF,GACtBN,KAAKuF,GAAUjF,GAGjB,MAAMV,MAAM,wFAA0FmC,EAAKQ,KAAO,OAGtH,KAAK/C,EAAGgD,WACN,GAAkB,IAAdT,EAAKkC,KACP,OAAO,SAAU3D,GACfd,EAAG6G,WAAWf,EAAQhF,GACtBN,KAAKuF,GAAUjF,GAGjB,MAAMV,MAAM,wFAA0FmC,EAAKQ,KAAO,OAGtH,KAAK/C,EAAG8G,WACN,GAAkB,IAAdvE,EAAKkC,KACP,OAAO,SAAU3D,GACfd,EAAG+G,iBAAiBjB,GAAQ,EAAOhF,GACnCN,KAAKuF,GAAUjF,GAGjB,MAAMV,MAAM,wFAA0FmC,EAAKQ,KAAO,OAGtH,KAAK/C,EAAGgH,WACN,GAAkB,IAAdzE,EAAKkC,KACP,OAAO,SAAU3D,GACfd,EAAGiH,iBAAiBnB,GAAQ,EAAOhF,GACnCN,KAAKuF,GAAUjF,GAGjB,MAAMV,MAAM,wFAA0FmC,EAAKQ,KAAO,OAGtH,QACE,MAAM3C,MAAM,qEAAuEmC,EAAKQ,KAAO,aAAepC,EAAO4B,EAAKI,MAAQ,OAIxI5C,EAAQ/B,UAAU6H,oBAAsB,SAAUtD,GAChD,IAAIQ,EAAO,KAAOR,EAAKQ,KACvB,OAAO,WACL,OAAOvC,KAAKuC,KAIThD,EAhST,GAiTA,SAASO,EAAac,EAAMlB,GAC1B,OAAOkB,EAAK8F,MAAM,MAAM3C,KAAI,SAAU4C,GACpC,GAAiC,aAA7BA,EAAKC,OAAOC,OAAO,EAAG,GAAmB,OAAOF,EACpD,IAAIG,EAAMH,EAAKI,QAAQ,YAAc,EACjCC,EAAcL,EAAKE,OAAOC,GAAKF,OAM/B,OAAOG,QAAQC,EAAYC,OAAO,KAAO,IAC3CD,EAAcA,EAAYH,OAAO,EAAGG,EAAYnK,OAAS,IAG3D,IAAIqK,EAAUxH,EAASsH,GAEvB,GAAuB,kBAAZE,EAET,MADAC,QAAQhD,MAAM,YAAc6C,EAAc,kBAAmBtH,GACvDE,MAAM,gCAAkCoH,GAGhD,OAAOE,KACNlD,KAAK,MAGV,SAASnD,EAAUsB,EAAM3C,EAAIoB,GAC3B,GAAIuB,IAAS3C,EAAGsB,eAAiBqB,IAAS3C,EAAG0B,gBAC3C,MAAMtB,MAAM,kDAGd,IAAIwH,EAAS5H,EAAG6H,aAAalF,GAE7B,IAAKiF,EACH,MAAMxH,MAAM,uBAAyBuC,IAAS3C,EAAGsB,cAAgB,SAAW,YAAc,YAM5F,GAHAtB,EAAG8H,aAAaF,EAAQxG,GACxBpB,EAAG+H,cAAcH,IAEZ5H,EAAGgI,mBAAmBJ,EAAQ5H,EAAGiI,gBAGpC,MAFAN,QAAQO,IAAI9G,GACZuG,QAAQhD,MAAM,2CAA6C3E,EAAGmI,iBAAiBP,IACzExH,MAAM,uBAAyBuC,IAAS3C,EAAGsB,cAAgB,SAAW,YAAc,YAG5F,OAAOsG,EChYT,IAqCe,EAnCf,WACE,SAASQ,EAAQC,EAAOC,GACtB9H,KAAK6H,MAAQA,EACb7H,KAAK8H,MAAQA,EACbA,EAAMC,eAAe/H,MA4BvB,OAzBA4H,EAAQpK,UAAUwK,QAAU,WAC1BhI,KAAK8H,MAAMG,eAAejI,KAAKuC,OAGjCrF,OAAOC,eAAeyK,EAAQpK,UAAW,OAAQ,CAC/C4H,IAAK,WACH,OAAOpF,KAAK6H,OAEd9K,YAAY,EACZC,cAAc,IAGhB4K,EAAQpK,UAAUiD,cAAgB,SAAUyH,EAASxI,GAKnD,YAJiB,IAAbA,IACFA,EAAW,IAGN,IAAI,EAAQM,KAAK8H,MAAMtI,GAAI0I,EAASxI,IAG7CkI,EAAQpK,UAAU2K,MAAQ,SAAUC,GAElC,MADAjB,QAAQhD,MAAM,2BAA8BnE,KAAKuC,KAAO,KAAO6F,GACzDxI,MAAMwI,IAGPR,EAhCT,GCPe,SAASS,EAAWvJ,EAAOwJ,QACnB,IAAjBA,IACFA,EAAe,IAGjB,IAAIC,SAAWzJ,EAEf,MAAU,WAANyJ,GAAmBC,MAAM1J,GAInB,WAANyJ,EAAuBzJ,EACpBwJ,EAJE,GAAKxJ,ECRhB,IAAI2J,EAAsC,WACxC,IAAIC,EAAiB,SAAuBC,EAAGC,GAW7C,OAVAF,EAAiBxL,OAAOS,gBAAkB,CACxCE,UAAW,cACAgL,OAAS,SAAUF,EAAGC,GACjCD,EAAE9K,UAAY+K,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAInK,KAAKmK,EACRA,EAAEE,eAAerK,KAAIkK,EAAElK,GAAKmK,EAAEnK,MAIhBkK,EAAGC,IAG3B,OAAO,SAAUD,EAAGC,GAGlB,SAASG,IACP/I,KAAK9B,YAAcyK,EAHrBD,EAAeC,EAAGC,GAMlBD,EAAEnL,UAAkB,OAANoL,EAAa1L,OAAO2B,OAAO+J,IAAMG,EAAGvL,UAAYoL,EAAEpL,UAAW,IAAIuL,IAtBzC,GAiG3B,EA9Df,SAAUC,GAYR,SAASC,EAAkB1G,EAAMuF,EAAOoB,GACtC,IAAIC,EAAQH,EAAO1K,KAAK0B,KAAMuC,EAAMuF,IAAU9H,KAE1CoJ,EAAYF,EAAOE,UACnBC,EAAQvB,EAAMwB,SAASF,GAE3B,IAAKC,EACH,MAAMF,EAAMhB,MAAM,UAAaiB,EAAY,gBAG7CD,EAAME,MAAQA,EACdF,EAAMI,IAAMJ,EAAM1I,cAAc,CAC9Bd,KAAM6J,EAAQnB,EAAWa,EAAOO,OAAOpJ,eACvCR,KAAM6J,IAER,IAAIlK,EAAKsI,EAAMtI,GACXmK,EAAOnK,EAAGoK,eAEd,IAAKD,EACH,MAAMR,EAAMhB,MAAM,gDAMpB,OAHA3I,EAAG+D,WAAW/D,EAAGgE,aAAcmG,GAC/BnK,EAAGqK,WAAWrK,EAAGgE,aAAc,IAAInE,aAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAKG,EAAGsK,aAC9EX,EAAMQ,KAAOA,EACNR,EAsBT,OA1DAV,EAAUQ,EAAmBD,GAuC7BC,EAAkBzL,UAAUuM,OAAS,WACnC,IACIjC,EADK9H,KACM8H,MACXyB,EAFKvJ,KAEIuJ,IACTF,EAHKrJ,KAGMqJ,MACXM,EAJK3J,KAIK2J,KAEVnK,EAAKsI,EAAMtI,GACfA,EAAGwK,QAAQxK,EAAGyK,YACdV,EAAIlI,MACJgI,EAAMa,WACSX,EACNY,YAAc,EACvBZ,EAAI3E,WAAW,iBAAkBkD,EAAMsC,MAAQtC,EAAMuC,QACrDd,EAAI1G,YAAY8G,EAAM,SACtBnK,EAAG+D,WAAW/D,EAAGgE,aAAcmG,GAC/BnK,EAAG8K,WAAW9K,EAAG+K,eAAgB,EAAG,IAG/BtB,EA3DT,CA4DE,GAIF,SAASO,EAAQC,GACf,IAAIe,EAAI,GACJC,EAAI,GAcR,OAZ4B,IAAxBhB,EAAM1C,QAAQ,KAChB0D,EAAI,uCAC6B,IAAxBhB,EAAM1C,QAAQ,OACvB0D,EAAI,wCAGsB,IAAxBhB,EAAM1C,QAAQ,KAChByD,EAAI,6CAC6B,IAAxBf,EAAM1C,QAAQ,OACvByD,EAAI,6CAGC,sOAAwOC,EAAI,kDAAoDD,EAAI,wEAG7S,IAAId,EAAO,4KCtHP,EAAsC,WACxC,IAAIhB,EAAiB,SAAuBC,EAAGC,GAW7C,OAVAF,EAAiBxL,OAAOS,gBAAkB,CACxCE,UAAW,cACAgL,OAAS,SAAUF,EAAGC,GACjCD,EAAE9K,UAAY+K,IACX,SAAUD,EAAGC,GAChB,IAAK,IAAInK,KAAKmK,EACRA,EAAEE,eAAerK,KAAIkK,EAAElK,GAAKmK,EAAEnK,MAIhBkK,EAAGC,IAG3B,OAAO,SAAUD,EAAGC,GAGlB,SAASG,IACP/I,KAAK9B,YAAcyK,EAHrBD,EAAeC,EAAGC,GAMlBD,EAAEnL,UAAkB,OAANoL,EAAa1L,OAAO2B,OAAO+J,IAAMG,EAAGvL,UAAYoL,EAAEpL,UAAW,IAAIuL,IAtBzC,GCG3B,GACb2B,WAAY,EACZC,MD8BF,SAAU3B,GAGR,SAAS4B,EAAarI,EAAMuF,GAC1B,IAAIqB,EAAQH,EAAO1K,KAAK0B,KAAMuC,EAAMuF,IAAU9H,KAM9C,OAJAmJ,EAAM0B,KAAO,GACb1B,EAAM2B,OAAS,GACf3B,EAAM4B,MAAQ,GACd5B,EAAM6B,OAAS,EACR7B,EAkDT,OA3DA,EAAUyB,EAAc5B,GAYxB9L,OAAOC,eAAeyN,EAAapN,UAAW,MAAO,CACnD4H,IAAK,WACH,OAAOpF,KAAK6K,MAEd3F,IAAK,SAAa5E,GAChBN,KAAK6K,KAAOvK,GAEdvD,YAAY,EACZC,cAAc,IAEhBE,OAAOC,eAAeyN,EAAapN,UAAW,QAAS,CACrD4H,IAAK,WACH,OAAOpF,KAAK8K,QAEd5F,IAAK,SAAa5E,GAChBN,KAAK8K,OAASxK,GAEhBvD,YAAY,EACZC,cAAc,IAEhBE,OAAOC,eAAeyN,EAAapN,UAAW,OAAQ,CACpD4H,IAAK,WACH,OAAOpF,KAAK+K,OAEd7F,IAAK,SAAa5E,GAChBN,KAAK+K,MAAQzK,GAEfvD,YAAY,EACZC,cAAc,IAEhBE,OAAOC,eAAeyN,EAAapN,UAAW,QAAS,CACrD4H,IAAK,WACH,OAAOpF,KAAKgL,QAEd9F,IAAK,SAAa5E,GAChBN,KAAKgL,OAAS1K,GAEhBvD,YAAY,EACZC,cAAc,IAGhB4N,EAAapN,UAAUuM,OAAS,WAC9B,IAAIvK,EAAKQ,KAAK8H,MAAMtI,GACpBA,EAAGyL,WAAWjL,KAAK6K,KAAM7K,KAAK8K,OAAQ9K,KAAK+K,MAAO/K,KAAKgL,QACvDxL,EAAG0L,MAAM1L,EAAG2L,mBAGPP,EA5DT,CA6DE,GC1FAhD,QAAS,GCNPwD,EAAsC,SAAUC,EAASC,EAAYC,EAAGC,GAO1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GACjD,SAASC,EAAU9M,GACjB,IACE+M,EAAKL,EAAUtM,KAAKJ,IACpB,MAAOgN,GACPH,EAAOG,IAIX,SAASC,EAASjN,GAChB,IACE+M,EAAKL,EAAiB,MAAE1M,IACxB,MAAOgN,GACPH,EAAOG,IAIX,SAASD,EAAKG,GAvBhB,IAAelN,EAwBXkN,EAAO7M,KAAOuM,EAAQM,EAAOlN,QAxBlBA,EAwBiCkN,EAAOlN,MAvB9CA,aAAiByM,EAAIzM,EAAQ,IAAIyM,GAAE,SAAUG,GAClDA,EAAQ5M,OAsBkDmN,KAAKL,EAAWG,GAG5EF,GAAML,EAAYA,EAAUU,MAAMb,EAASC,GAAc,KAAKpM,YAI9DiN,EAA0C,SAAUd,EAASe,GAC/D,IASIC,EACA5B,EACAlC,EACA+D,EAZAC,EAAI,CACNC,MAAO,EACPC,KAAM,WACJ,GAAW,EAAPlE,EAAE,GAAQ,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEXmE,KAAM,GACNC,IAAK,IAMP,OAAOL,EAAI,CACTpN,KAAM0N,EAAK,GACX,MAASA,EAAK,GACd,OAAUA,EAAK,IACI,oBAAX5O,SAA0BsO,EAAEtO,OAAOC,UAAY,WACvD,OAAO+B,OACLsM,EAEJ,SAASM,EAAKC,GACZ,OAAO,SAAUvM,GACf,OAIJ,SAAcwM,GACZ,GAAIT,EAAG,MAAM,IAAI7P,UAAU,mCAE3B,KAAO+P,GACL,IACE,GAAIF,EAAI,EAAG5B,IAAMlC,EAAY,EAARuE,EAAG,GAASrC,EAAU,OAAIqC,EAAG,GAAKrC,EAAS,SAAOlC,EAAIkC,EAAU,SAAMlC,EAAEjK,KAAKmM,GAAI,GAAKA,EAAEvL,SAAWqJ,EAAIA,EAAEjK,KAAKmM,EAAGqC,EAAG,KAAK3N,KAAM,OAAOoJ,EAG3J,OAFIkC,EAAI,EAAGlC,IAAGuE,EAAK,CAAS,EAARA,EAAG,GAAQvE,EAAEzJ,QAEzBgO,EAAG,IACT,KAAK,EACL,KAAK,EACHvE,EAAIuE,EACJ,MAEF,KAAK,EAEH,OADAP,EAAEC,QACK,CACL1N,MAAOgO,EAAG,GACV3N,MAAM,GAGV,KAAK,EACHoN,EAAEC,QACF/B,EAAIqC,EAAG,GACPA,EAAK,CAAC,GACN,SAEF,KAAK,EACHA,EAAKP,EAAEI,IAAII,MAEXR,EAAEG,KAAKK,MAEP,SAEF,QACE,KAAkBxE,GAAZA,EAAIgE,EAAEG,MAAY7P,OAAS,GAAK0L,EAAEA,EAAE1L,OAAS,MAAkB,IAAViQ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CACtFP,EAAI,EACJ,SAGF,GAAc,IAAVO,EAAG,MAAcvE,GAAKuE,EAAG,GAAKvE,EAAE,IAAMuE,EAAG,GAAKvE,EAAE,IAAK,CACvDgE,EAAEC,MAAQM,EAAG,GACb,MAGF,GAAc,IAAVA,EAAG,IAAYP,EAAEC,MAAQjE,EAAE,GAAI,CACjCgE,EAAEC,MAAQjE,EAAE,GACZA,EAAIuE,EACJ,MAGF,GAAIvE,GAAKgE,EAAEC,MAAQjE,EAAE,GAAI,CACvBgE,EAAEC,MAAQjE,EAAE,GAEZgE,EAAEI,IAAIK,KAAKF,GAEX,MAGEvE,EAAE,IAAIgE,EAAEI,IAAII,MAEhBR,EAAEG,KAAKK,MAEP,SAGJD,EAAKV,EAAK9N,KAAK+M,EAASkB,GACxB,MAAOT,GACPgB,EAAK,CAAC,EAAGhB,GACTrB,EAAI,EACJ,QACA4B,EAAI9D,EAAI,EAIZ,GAAY,EAARuE,EAAG,GAAQ,MAAMA,EAAG,GACxB,MAAO,CACLhO,MAAOgO,EAAG,GAAKA,EAAG,QAAK,EACvB3N,MAAM,GAlFC0M,CAAK,CAACgB,EAAGvM,OA4MP,EAnHf,WACE,SAAS2M,EAAMzN,EAAI0J,GACjBlJ,KAAKR,GAAKA,EACVQ,KAAKkJ,OAASA,EACdlJ,KAAKkN,QAAS,EACdlN,KAAKmN,OAAS,EACdnN,KAAKoN,QAAU,EACf,IAAIC,EAAU7N,EAAG8N,gBACjB,IAAKD,EAAS,KAAM,kCACpBrN,KAAKqN,QAAUA,EACf7N,EAAG+N,YAAY/N,EAAGgO,WAAYH,GAC9B7N,EAAGiO,cAAcjO,EAAGgO,WAAYhO,EAAGkO,eAAgBlO,EAAGmO,eACtDnO,EAAGiO,cAAcjO,EAAGgO,WAAYhO,EAAGoO,eAAgBpO,EAAGmO,eACtDnO,EAAGiO,cAAcjO,EAAGgO,WAAYhO,EAAGqO,mBAAoBrO,EAAGsO,QAC1DtO,EAAGiO,cAAcjO,EAAGgO,WAAYhO,EAAGuO,mBAAoBvO,EAAGsO,QAC1D9N,KAAKgO,UAAU9E,EAAO+E,OAiGxB,OA9FA/Q,OAAOC,eAAe8P,EAAMzP,UAAW,OAAQ,CAC7C4H,IAAK,WACH,OAAOpF,KAAKkJ,OAAO3G,MAErBxF,YAAY,EACZC,cAAc,IAEhBE,OAAOC,eAAe8P,EAAMzP,UAAW,QAAS,CAC9C4H,IAAK,WACH,OAAOpF,KAAKmN,QAEdpQ,YAAY,EACZC,cAAc,IAEhBE,OAAOC,eAAe8P,EAAMzP,UAAW,SAAU,CAC/C4H,IAAK,WACH,OAAOpF,KAAKoN,SAEdrQ,YAAY,EACZC,cAAc,IAEhBE,OAAOC,eAAe8P,EAAMzP,UAAW,QAAS,CAI9C4H,IAAK,WACH,OAAOpF,KAAKkN,QAEdnQ,YAAY,EACZC,cAAc,IAMhBiQ,EAAMzP,UAAUwK,QAAU,WACxBhI,KAAKkN,QAAS,EAEd,IACI1N,EADKQ,KACGR,GACR6N,EAFKrN,KAEQqN,QAEjB7N,EAAG0O,cAAcb,IAGnBJ,EAAMzP,UAAU0M,SAAW,SAAUiE,QACtB,IAATA,IACFA,EAAO,GAGT,IACI3O,EADKQ,KACGR,GACR6N,EAFKrN,KAEQqN,QAEbe,EAAQ,CAAC5O,EAAG6O,SAAU7O,EAAG8O,SAAU9O,EAAG+O,SAAU/O,EAAGgP,SAAUhP,EAAGiP,SAAUjP,EAAGkP,SAAUlP,EAAGmP,SAAUnP,EAAGoP,UAC3GpP,EAAGqP,cAAcT,EAAMU,KAAKC,IAAIZ,GAAQC,EAAMvR,SAC9C2C,EAAG+N,YAAY/N,EAAGgO,WAAYH,IAGhCJ,EAAMzP,UAAUwQ,UAAY,SAAUgB,GACpC,OAAO5D,EAAUpL,UAAM,OAAQ,GAAQ,WACrC,IAAIsD,EACJ,OAAO6I,EAAYnM,MAAM,SAAUgD,GAEjC,OADAM,EAAOtD,KACA,CAAC,EAEN,IAAIyL,SAAQ,SAAUC,EAASC,GAC/B,IAAIsD,EAAM,IAAIC,MACd5L,EAAK4J,QAAS,EAEd+B,EAAIE,OAAS,WACX,IAAI3P,EAAK8D,EAAK9D,GACV0J,EAAS5F,EAAK4F,OACdmE,EAAU/J,EAAK+J,QACf9K,EAAO2G,EAAO3G,KAClB/C,EAAG+N,YAAY/N,EAAGgO,WAAYH,GAC9B7N,EAAG4P,WAAW5P,EAAGgO,WAAY,EAAGhO,EAAG6P,KAAM7P,EAAG6P,KAAM7P,EAAGiG,cAAewJ,GACpE3L,EAAK4J,QAAS,EACd5J,EAAK6J,OAAS8B,EAAI7E,MAClB9G,EAAK8J,QAAU6B,EAAI5E,OACnBqB,EAAQnJ,IAGV0M,EAAIK,QAAU,WACZnI,QAAQhD,MAAM,yBAA4B5B,KAAO,MAAQyM,GACzDrD,EAAOpJ,OAGT0M,EAAIM,IAAMP,aAMX/B,EAhHT,GC1IgB,qBACK,IAAfuC,IACFA,EAAa,GAGXA,GAAc,IAChBA,EAAaC,OAAOC,kBAGtB,IAAIC,EAASnQ,EAAGmQ,OACZC,EAAed,KAAKe,MAAMF,EAAOG,YAAcN,GAC/CO,EAAgBjB,KAAKe,MAAMF,EAAOK,aAAeR,GAErD,OAAIG,EAAOvF,QAAUwF,GAAgBD,EAAOtF,SAAW0F,KAErDJ,EAAOvF,MAAQwF,EACfD,EAAOtF,OAAS0F,EAChBvQ,EAAGyQ,SAAS,EAAG,EAAGL,EAAcG,IACzB,ICzBP,EAAoC,SAAUrS,GAChD,IAAIsB,EAAsB,oBAAXhB,QAAyBA,OAAOC,SAC3CgB,EAAID,GAAKtB,EAAEsB,GACXpC,EAAI,EACR,GAAIqC,EAAG,OAAOA,EAAEX,KAAKZ,GACrB,GAAIA,GAAyB,kBAAbA,EAAEb,OAAqB,MAAO,CAC5CqC,KAAM,WAEJ,OADIxB,GAAKd,GAAKc,EAAEb,SAAQa,OAAI,GACrB,CACLoB,MAAOpB,GAAKA,EAAEd,KACduC,MAAOzB,KAIb,MAAM,IAAIlB,UAAUwC,EAAI,0BAA4B,oCAwIvC,EAhIf,WACE,SAASkR,EAASP,GAChB,IAAIxG,EAAQnJ,KAEZA,KAAKmQ,eAAiB,GACtBnQ,KAAKoQ,aAAc,EACnBpQ,KAAKwP,WAAa,EAClBxP,KAAKqQ,YAAc,KAEnBrQ,KAAK+J,OAAS,SAAUuG,GACtB,IAAIvN,EAAKC,EAET,GAAImG,EAAMiH,YAAV,CAAuBX,OAAOc,sBAAsBpH,EAAMY,QAC1D,EAAOZ,EAAM3J,GAAI2J,EAAMqG,YAEvB,IACE,IACE,IAAK,IAAItM,EAAK,EAASiG,EAAMgH,gBAAiBK,EAAKtN,EAAGhE,QAASsR,EAAGrR,KAAMqR,EAAKtN,EAAGhE,OAAQ,CACxEsR,EAAG1R,MACTiL,OAAOuG,IAEjB,MAAOpM,GACPnB,EAAM,CACJoB,MAAOD,GAET,QACA,IACMsM,IAAOA,EAAGrR,OAAS6D,EAAKE,EAAGkB,SAASpB,EAAG1E,KAAK4E,GAChD,QACA,GAAIH,EAAK,MAAMA,EAAIoB,OAIvB,IAAIkM,EAAclH,EAAMkH,YAEG,oBAAhBA,GACTA,EAAYC,GAEd,MAAOG,GACPtJ,QAAQhD,MAAMsM,GAEdtH,EAAMuH,OAENvJ,QAAQhD,MAAM,mCACdgD,QAAQhD,MAAM,mCACdgD,QAAQhD,MAAM,sCAIlB,IAAI3E,EAAKmQ,EAAOgB,WAAW,QAAS,IAEpC,IAAKnR,EAAI,KAAM,oCACfQ,KAAKR,GAAKA,EACVQ,KAAK4Q,QAAU,IAAIC,IACnB7Q,KAAK8Q,SAAW,IAAID,IAuEtB,OApEAX,EAAS1S,UAAU8L,SAAW,SAAU/G,GAEtC,OADcvC,KAAK4Q,QACJxL,IAAI7C,IAAS,MAG9B2N,EAAS1S,UAAUuT,YAAc,SAAU7H,GACzC,IAAIG,EAAQ,IAAI,EAAMrJ,KAAKR,GAAI0J,GAE/B,OADAlJ,KAAK4Q,QAAQ1L,IAAIgE,EAAO3G,KAAM8G,GACvBA,GAGT6G,EAAS1S,UAAUwT,aAAe,SAAUzO,GAC1C,IAAIqO,EAAU5Q,KAAK4Q,QACfvH,EAAQuH,EAAQxL,IAAI7C,GACxB,QAAK8G,IACLuH,EAAQK,OAAO1O,GACf8G,EAAMrB,WACC,IAOTkI,EAAS1S,UAAUuK,eAAiB,SAAUmJ,GAC5C,OAAIlR,KAAK8Q,SAASK,IAAID,EAAQ3O,QAC9BvC,KAAK8Q,SAAS5L,IAAIgM,EAAQ3O,KAAM2O,GAChClR,KAAKmQ,eAAiBnQ,KAAKmQ,eAAeiB,QAAO,SAAU3S,GACzD,OAAOA,EAAE8D,QAEXvC,KAAKmQ,eAAenD,KAAKkE,IAClB,IAGThB,EAAS1S,UAAUyK,eAAiB,SAAU1F,GAC5C,OAAIvC,KAAK8Q,SAASK,IAAI5O,KACtBvC,KAAK8Q,SAASG,OAAO1O,GACrBvC,KAAKmQ,eAAiBnQ,KAAKmQ,eAAeiB,QAAO,SAAU3S,GACzD,OAAOA,EAAE8D,SAEJ,IAGTrF,OAAOC,eAAe+S,EAAS1S,UAAW,QAAS,CACjD4H,IAAK,WACH,OAAOpF,KAAKR,GAAG6R,oBAEjBtU,YAAY,EACZC,cAAc,IAEhBE,OAAOC,eAAe+S,EAAS1S,UAAW,SAAU,CAClD4H,IAAK,WACH,OAAOpF,KAAKR,GAAG8R,qBAEjBvU,YAAY,EACZC,cAAc,IAGhBkT,EAAS1S,UAAU+T,MAAQ,WACrBvR,KAAKoQ,cACTpQ,KAAKoQ,aAAc,EACnBX,OAAOc,sBAAsBvQ,KAAK+J,UAGpCmG,EAAS1S,UAAUkT,KAAO,WACxB1Q,KAAKoQ,aAAc,GAGdF,EA7HT,GCpBe,KACbtI,QAAS,EACT4J,MAAO,I,4GCWMC,G,UAZO,WACpB,OACE,yBAAKC,UAAU,OACX,yCACA,4BACI,4BAAI,uBAAGC,KAAK,mBAAR,iBACJ,4BAAI,uBAAGA,KAAK,wBAAR,2BCGIC,QACW,cAA7BnC,OAAOpN,SAASwP,UAEe,UAA7BpC,OAAOpN,SAASwP,UAEhBpC,OAAOpN,SAASwP,SAASC,MACvB,2DCZNC,IAAShI,OAAO,kBAAC,EAAD,MAASiI,SAASC,eAAe,SDmI3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMnG,MAAK,SAAAoG,GACjCA,EAAaC,iB,sHEnIEC,G,iNACAC,IAA0CC,IAAMC,Y,mFAG7D,IAAM/C,EAAS3P,KAAKwS,IAAIG,QACnBhD,GACL3P,KAAKrD,MAAMiW,KAAKjD,K,+BAIhB,OAAQ,4BAAQ6C,IAAKxS,KAAKwS,IAAKd,UAAU,e,GAVbe,IAAMI,a,+FCR1C,0DAMAd,IAAShI,OAAO,kBAAC,IAAD,CAAQ6I,KAGxB,SAAcjD,GACV,IAAM7H,EAAQ,IAAIoI,IAASsB,MAAM7B,GACjC,IAAIO,IAAStI,QAAQ+C,MAAM,aAAc7C,GACzCA,EAAMyJ,WAN6BS,SAASC,eAAe,W","file":"static/js/index.731f7d27.45d05f8f.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","var __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nvar BPE = new Float32Array().BYTES_PER_ELEMENT;\n/**\n * Creating  a  WebGL  program  for shaders  is  painful.  This  class\n * simplifies the process.\n *\n * @class Program\n *\n * Object properties starting with `$` are WebGL uniforms or attributes.\n * Uniforms behave as expected: you can read/write a value.\n * Attributes when read, return the location. And when written, enable/disabled\n * this attribute. So you read integers and writte booleans.\n *\n * @param gl - WebGL context.\n * @param codes  - Object  with two  mandatory attributes:  `vert` for\n * vertex shader and `frag` for fragment shader.\n * @param  includes  -  (optional)  If  defined,  the  `#include  foo`\n * directives  of  shaders   will  be  replaced  by   the  content  of\n * `includes.foo`.\n */\n\nvar Program =\n/** @class */\nfunction () {\n  function Program(gl, codes, includes) {\n    if (includes === void 0) {\n      includes = {};\n    }\n\n    if (typeof codes.vert !== 'string') {\n      throw Error('[webgl.program] Missing attribute `vert` in argument `codes`!');\n    }\n\n    if (typeof codes.frag !== 'string') {\n      throw Error('[webgl.program] Missing attribute `frag` in argument `codes`!');\n    }\n\n    codes = parseIncludes(codes, includes);\n    this.gl = gl;\n    Object.freeze(this.gl);\n    this.BPE = BPE;\n    Object.freeze(this.BPE);\n    this._typesNamesLookup = getTypesNamesLookup(gl);\n    var shaderProgram = gl.createProgram();\n\n    if (!shaderProgram) {\n      throw Error('Unable to create WebGLProgram!');\n    }\n\n    this.program = shaderProgram;\n    var vertShader = getVertexShader(gl, codes.vert);\n    gl.attachShader(shaderProgram, vertShader);\n    var fragShader = getFragmentShader(gl, codes.frag);\n    gl.attachShader(shaderProgram, fragShader);\n    gl.linkProgram(shaderProgram);\n\n    this.use = function () {\n      gl.useProgram(shaderProgram);\n    };\n\n    this.attribs = this.createAttributes();\n    this.uniforms = this.createUniforms();\n  }\n\n  Program.prototype.createAttributes = function () {\n    var _a = this,\n        gl = _a.gl,\n        program = _a.program;\n\n    var attribs = {};\n    var attribsCount = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n    for (var index = 0; index < attribsCount; index++) {\n      var item = gl.getActiveAttrib(program, index);\n      if (!item) continue;\n      item.typeName = this.getTypeName(item.type);\n      item.length = this.getSize(gl, item);\n      item.location = gl.getAttribLocation(program, item.name);\n      attribs[item.name] = item;\n      Object.defineProperty(this, '$' + item.name, {\n        value: item.location,\n        writable: false,\n        enumerable: true,\n        configurable: false\n      });\n    }\n\n    return attribs;\n  };\n\n  Program.prototype.getSize = function (gl, item) {\n    switch (item.type) {\n      case gl.FLOAT_VEC4:\n        return 4;\n\n      case gl.FLOAT_VEC3:\n        return 3;\n\n      case gl.FLOAT_VEC2:\n        return 2;\n\n      case gl.FLOAT:\n        return 1;\n\n      default:\n        throw Error(\"[webgl.program:getSize] I don't know the size of the attribute '\" + item.name + \"' because I don't know the type \" + this.getTypeName(item.type) + \"!\");\n    }\n  };\n\n  Program.prototype.use = function () {\n    this.gl.useProgram(this.program);\n  };\n\n  Program.prototype.getTypeName = function (typeId) {\n    return this._typesNamesLookup[typeId];\n  };\n\n  Program.prototype.bindAttribs = function (buffer) {\n    var e_1, _a, e_2, _b;\n\n    var names = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      names[_i - 1] = arguments[_i];\n    }\n\n    var that = this;\n    var gl = this.gl;\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    var totalSize = 0;\n\n    try {\n      for (var names_1 = __values(names), names_1_1 = names_1.next(); !names_1_1.done; names_1_1 = names_1.next()) {\n        var name_1 = names_1_1.value;\n        var attrib = that.attribs[name_1];\n\n        if (!attrib) {\n          throw Error(\"Cannot find attribute \\\"\" + name_1 + \"\\\"!\\n\" + \"It may be not active because unused in the shader.\\n\" + \"Available attributes are: \" + Object.keys(that.attribs).map(function (name) {\n            return '\"' + name + '\"';\n          }).join(\", \") + (\" (\" + that.attribs.length + \")\"));\n        }\n\n        totalSize += attrib.size * attrib.length * BPE;\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (names_1_1 && !names_1_1.done && (_a = names_1.return)) _a.call(names_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    var offset = 0;\n\n    try {\n      for (var names_2 = __values(names), names_2_1 = names_2.next(); !names_2_1.done; names_2_1 = names_2.next()) {\n        var name_2 = names_2_1.value;\n        var attrib = that.attribs[name_2];\n        gl.enableVertexAttribArray(attrib.location);\n        gl.vertexAttribPointer(attrib.location, attrib.size * attrib.length, gl.FLOAT, false, // No normalisation.\n        totalSize, offset);\n        offset += attrib.size * attrib.length * BPE;\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (names_2_1 && !names_2_1.done && (_b = names_2.return)) _b.call(names_2);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  };\n\n  Program.prototype.setUniform = function (name, value) {\n    var id = '$' + name;\n    var map = this;\n    map[id] = value;\n  };\n\n  Program.prototype.createUniforms = function () {\n    var _a = this,\n        gl = _a.gl,\n        program = _a.program;\n\n    var uniforms = {};\n    var uniformsCount = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n    for (var index = 0; index < uniformsCount; index++) {\n      var item = gl.getActiveUniform(program, index);\n      if (!item) continue;\n      var location_1 = gl.getUniformLocation(program, item.name);\n      if (!location_1) continue;\n      uniforms[item.name] = location_1;\n      Object.defineProperty(this, '$' + item.name, {\n        set: this.createUniformSetter(item, uniforms[item.name], this._typesNamesLookup),\n        get: this.createUniformGetter(item),\n        enumerable: true,\n        configurable: false\n      });\n    }\n\n    return uniforms;\n  };\n\n  Program.prototype.createUniformSetter = function (item, nameGL, lookup) {\n    var gl = this.gl;\n    var nameJS = '_$' + item.name;\n\n    switch (item.type) {\n      case gl.BYTE:\n      case gl.UNSIGNED_BYTE:\n      case gl.SHORT:\n      case gl.UNSIGNED_SHORT:\n      case gl.INT:\n      case gl.UNSIGNED_INT:\n      case gl.SAMPLER_2D:\n        // For textures, we specify the texture unit.\n        if (item.size === 1) {\n          return function (v) {\n            gl.uniform1i(nameGL, v);\n            this[nameJS] = v;\n          };\n        } else {\n          return function (v) {\n            gl.uniform1iv(nameGL, v);\n            this[nameJS] = v;\n          };\n        }\n\n      case gl.FLOAT:\n        if (item.size === 1) {\n          return function (v) {\n            gl.uniform1f(nameGL, v);\n            this[nameJS] = v;\n          };\n        } else {\n          return function (v) {\n            gl.uniform1fv(nameGL, v);\n            this[nameJS] = v;\n          };\n        }\n\n      case gl.FLOAT_VEC2:\n        if (item.size === 1) {\n          return function (v) {\n            gl.uniform2fv(nameGL, v);\n            this[nameJS] = v;\n          };\n        } else {\n          throw Error(\"[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_VEC2 in uniform `\" + item.name + \"'!'\");\n        }\n\n      case gl.FLOAT_VEC3:\n        if (item.size === 1) {\n          return function (v) {\n            gl.uniform3fv(nameGL, v);\n            this[nameJS] = v;\n          };\n        } else {\n          throw Error(\"[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_VEC3 in uniform `\" + item.name + \"'!'\");\n        }\n\n      case gl.FLOAT_VEC4:\n        if (item.size === 1) {\n          return function (v) {\n            gl.uniform4fv(nameGL, v);\n            this[nameJS] = v;\n          };\n        } else {\n          throw Error(\"[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_VEC4 in uniform `\" + item.name + \"'!'\");\n        }\n\n      case gl.FLOAT_MAT3:\n        if (item.size === 1) {\n          return function (v) {\n            gl.uniformMatrix3fv(nameGL, false, v);\n            this[nameJS] = v;\n          };\n        } else {\n          throw Error(\"[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_MAT3 in uniform `\" + item.name + \"'!'\");\n        }\n\n      case gl.FLOAT_MAT4:\n        if (item.size === 1) {\n          return function (v) {\n            gl.uniformMatrix4fv(nameGL, false, v);\n            this[nameJS] = v;\n          };\n        } else {\n          throw Error(\"[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_MAT4 in uniform `\" + item.name + \"'!'\");\n        }\n\n      default:\n        throw Error(\"[webgl.program.createWriter] Don't know how to deal with uniform `\" + item.name + \"` of type \" + lookup[item.type] + \"!\");\n    }\n  };\n\n  Program.prototype.createUniformGetter = function (item) {\n    var name = '_$' + item.name;\n    return function () {\n      return this[name];\n    };\n  };\n\n  return Program;\n}();\n\nexport default Program;\n/**\n * This is a preprocessor for shaders.\n * Directives  `#include`  will be  replaced  by  the content  of  the\n * correspondent attribute in `includes`.\n */\n\nfunction parseIncludes(codes, includes) {\n  return {\n    vert: parseInclude(codes.vert, includes),\n    frag: parseInclude(codes.frag, includes)\n  };\n}\n\nfunction parseInclude(code, includes) {\n  return code.split('\\n').map(function (line) {\n    if (line.trim().substr(0, 8) !== '#include') return line;\n    var pos = line.indexOf('#include') + 8;\n    var includeName = line.substr(pos).trim(); // We accept all this systaxes:\n    // #include foo\n    // #include 'foo'\n    // #include <foo>\n    // #include \"foo\"\n\n    if (\"'<\\\"\".indexOf(includeName.charAt(0)) > -1) {\n      includeName = includeName.substr(1, includeName.length - 2);\n    }\n\n    var snippet = includes[includeName];\n\n    if (typeof snippet !== 'string') {\n      console.error(\"Include <\" + includeName + \"> not found in \", includes);\n      throw Error(\"Include not found in shader: \" + includeName);\n    }\n\n    return snippet;\n  }).join(\"\\n\");\n}\n\nfunction getShader(type, gl, code) {\n  if (type !== gl.VERTEX_SHADER && type !== gl.FRAGMENT_SHADER) {\n    throw Error('Type must be VERTEX_SHADER or FRAGMENT_SHADER!');\n  }\n\n  var shader = gl.createShader(type);\n\n  if (!shader) {\n    throw Error(\"Unable to create a \" + (type === gl.VERTEX_SHADER ? \"VERTEX\" : \"FRAGMENT\") + \" shader!\");\n  }\n\n  gl.shaderSource(shader, code);\n  gl.compileShader(shader);\n\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    console.log(code);\n    console.error(\"An error occurred compiling the shader: \" + gl.getShaderInfoLog(shader));\n    throw Error(\"Unable to create a \" + (type === gl.VERTEX_SHADER ? \"VERTEX\" : \"FRAGMENT\") + \" shader!\");\n  }\n\n  return shader;\n}\n\nfunction getFragmentShader(gl, code) {\n  return getShader(gl.FRAGMENT_SHADER, gl, code);\n}\n\nfunction getVertexShader(gl, code) {\n  return getShader(gl.VERTEX_SHADER, gl, code);\n}\n\nfunction getTypesNamesLookup(gl) {\n  var lookup = {};\n\n  for (var k in gl) {\n    if (k !== k.toUpperCase()) continue;\n    var v = gl[k];\n\n    if (typeof v === 'number') {\n      lookup[v] = k;\n    }\n  }\n\n  return lookup;\n}","/**\n * This is a virtual painter from which all the other will inherit.\n */\nimport Program from '../webgl/program';\n\nvar Painter =\n/** @class */\nfunction () {\n  function Painter(_name, scene) {\n    this._name = _name;\n    this.scene = scene;\n    scene.$attachPainter(this);\n  }\n\n  Painter.prototype.destroy = function () {\n    this.scene.$detachPainter(this.name);\n  };\n\n  Object.defineProperty(Painter.prototype, \"name\", {\n    get: function get() {\n      return this._name;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Painter.prototype.createProgram = function (shaders, includes) {\n    if (includes === void 0) {\n      includes = {};\n    }\n\n    return new Program(this.scene.gl, shaders, includes);\n  };\n\n  Painter.prototype.fatal = function (message) {\n    console.error(\"Fatal error in Painter \\\"\" + this.name + \"\\\":\", message);\n    throw Error(message);\n  };\n\n  return Painter;\n}();\n\nexport default Painter;","export default function castString(value, defaultValue) {\n  if (defaultValue === void 0) {\n    defaultValue = \"\";\n  }\n\n  var t = typeof value;\n\n  if (t === 'number' && !isNaN(value)) {\n    return \"\" + value;\n  }\n\n  if (t === 'string') return value;\n  return defaultValue;\n}","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * Background the screen by filling it with an image that covers it entirely.\n */\n\n\nimport Painter from '../painter';\nimport castString from '../../converter/string';\n\nvar BackgroundPainter =\n/** @class */\nfunction (_super) {\n  __extends(BackgroundPainter, _super);\n  /**\n   * params: { atlasName, align }\n   * - align: if undefined, the background will be centered.\n   *          \"R\" means that the Right edge of the background is always visible.\n   *          \"L\" means the same for Left.\n   *          \"T\" for Top.\n   *          \"B\" for \"Bottom\".\n   */\n\n\n  function BackgroundPainter(name, scene, params) {\n    var _this = _super.call(this, name, scene) || this;\n\n    var atlasName = params.atlasName;\n    var atlas = scene.getAtlas(atlasName);\n\n    if (!atlas) {\n      throw _this.fatal(\"Atlas \\\"\" + atlasName + \"\\\" not found!\");\n    }\n\n    _this.atlas = atlas;\n    _this.prg = _this.createProgram({\n      vert: getVert(castString(params.align).toUpperCase()),\n      frag: FRAG\n    });\n    var gl = scene.gl;\n    var buff = gl.createBuffer();\n\n    if (!buff) {\n      throw _this.fatal(\"Not enough memory to create an array buffer!\");\n    }\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, buff);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]), gl.STATIC_DRAW);\n    _this.buff = buff;\n    return _this;\n  }\n\n  BackgroundPainter.prototype.render = function () {\n    var _a = this,\n        scene = _a.scene,\n        prg = _a.prg,\n        atlas = _a.atlas,\n        buff = _a.buff;\n\n    var gl = scene.gl;\n    gl.disable(gl.DEPTH_TEST);\n    prg.use();\n    atlas.activate();\n    var uniforms = prg;\n    uniforms.$uniTexture = 0;\n    prg.setUniform(\"uniAspectRatio\", scene.width / scene.height);\n    prg.bindAttribs(buff, \"attXY\");\n    gl.bindBuffer(gl.ARRAY_BUFFER, buff);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  };\n\n  return BackgroundPainter;\n}(Painter);\n\nexport default BackgroundPainter;\n\nfunction getVert(align) {\n  var x = \"\";\n  var y = \"\";\n\n  if (align.indexOf(\"B\") !== -1) {\n    y = \"location.y -= uniAspectRatio - 1.0;\";\n  } else if (align.indexOf(\"T\") !== -1) {\n    y = \"location.y += uniAspectRatio - 1.0;\";\n  }\n\n  if (align.indexOf(\"R\") !== -1) {\n    x = \"location.x -= 1.0 / uniAspectRatio - 1.0;\";\n  } else if (align.indexOf(\"L\") !== -1) {\n    x = \"location.x += 1.0 / uniAspectRatio - 1.0;\";\n  }\n\n  return \"uniform float uniAspectRatio;\\nattribute vec2 attXY;\\nvarying vec2 varUV;\\n\\nvoid main() {\\n  varUV = attXY;\\n  vec2 location = 2.0 * (attXY - vec2(0.5, 0.5));\\n\\n  if (uniAspectRatio > 1.0) {\\n    location.y *= uniAspectRatio;\" + y + \"\\n  } else {\\n    location.x /= uniAspectRatio;\" + x + \"\\n  }\\n\\n  gl_Position = vec4(location.x, -location.y, -1.0, 1.0);\\n}\";\n}\n\nvar FRAG = \"precision mediump float;\\nuniform sampler2D uniTexture;\\nvarying vec2 varUV;\\n\\nvoid main() {\\n  vec4 color = texture2D( uniTexture, varUV );\\n  gl_FragColor = color;\\n}\";","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * Clear the screen by filling it with a plain color.\n * This color is defined by attributes red, gree, blue and alpha, which must be between 0 and 1.\n */\n\n\nimport Painter from './painter';\n\nvar ClearPainter =\n/** @class */\nfunction (_super) {\n  __extends(ClearPainter, _super);\n\n  function ClearPainter(name, scene) {\n    var _this = _super.call(this, name, scene) || this;\n\n    _this._red = 0.8;\n    _this._green = 0.4;\n    _this._blue = 0.2;\n    _this._alpha = 1;\n    return _this;\n  }\n\n  Object.defineProperty(ClearPainter.prototype, \"red\", {\n    get: function get() {\n      return this._red;\n    },\n    set: function set(v) {\n      this._red = v;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ClearPainter.prototype, \"green\", {\n    get: function get() {\n      return this._green;\n    },\n    set: function set(v) {\n      this._green = v;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ClearPainter.prototype, \"blue\", {\n    get: function get() {\n      return this._blue;\n    },\n    set: function set(v) {\n      this._blue = v;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ClearPainter.prototype, \"alpha\", {\n    get: function get() {\n      return this._alpha;\n    },\n    set: function set(v) {\n      this._alpha = v;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ClearPainter.prototype.render = function () {\n    var gl = this.scene.gl;\n    gl.clearColor(this._red, this._green, this._blue, this._alpha);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n  };\n\n  return ClearPainter;\n}(Painter);\n\nexport default ClearPainter;","import Background from './background';\nimport Clear from './clear';\nimport Painter from './painter';\nexport default {\n  Background: Background,\n  Clear: Clear,\n  Painter: Painter\n};","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar Atlas =\n/** @class */\nfunction () {\n  function Atlas(gl, params) {\n    this.gl = gl;\n    this.params = params;\n    this._ready = false;\n    this._width = 0;\n    this._height = 0;\n    var texture = gl.createTexture();\n    if (!texture) throw \"Unable to create a new texture!\";\n    this.texture = texture;\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    this.loadImage(params.image);\n  }\n\n  Object.defineProperty(Atlas.prototype, \"name\", {\n    get: function get() {\n      return this.params.name;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Atlas.prototype, \"width\", {\n    get: function get() {\n      return this._width;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Atlas.prototype, \"height\", {\n    get: function get() {\n      return this._height;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Atlas.prototype, \"ready\", {\n    /**\n     * Return `true` as soon as an image has been loaded into the graphic card.\n     */\n    get: function get() {\n      return this._ready;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Remove the texture from the graphic card memory.\n   */\n\n  Atlas.prototype.destroy = function () {\n    this._ready = false;\n\n    var _a = this,\n        gl = _a.gl,\n        texture = _a.texture;\n\n    gl.deleteTexture(texture);\n  };\n\n  Atlas.prototype.activate = function (unit) {\n    if (unit === void 0) {\n      unit = 0;\n    }\n\n    var _a = this,\n        gl = _a.gl,\n        texture = _a.texture;\n\n    var UNITS = [gl.TEXTURE0, gl.TEXTURE1, gl.TEXTURE2, gl.TEXTURE3, gl.TEXTURE4, gl.TEXTURE5, gl.TEXTURE6, gl.TEXTURE7];\n    gl.activeTexture(UNITS[Math.abs(unit) % UNITS.length]);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n  };\n\n  Atlas.prototype.loadImage = function (url) {\n    return __awaiter(this, void 0, void 0, function () {\n      var that;\n      return __generator(this, function (_a) {\n        that = this;\n        return [2\n        /*return*/\n        , new Promise(function (resolve, reject) {\n          var img = new Image();\n          that._ready = false;\n\n          img.onload = function () {\n            var gl = that.gl,\n                params = that.params,\n                texture = that.texture;\n            var name = params.name;\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, img);\n            that._ready = true;\n            that._width = img.width;\n            that._height = img.height;\n            resolve(name);\n          };\n\n          img.onerror = function () {\n            console.error(\"Unable to load image \\\"\" + name + \"\\\": \", url);\n            reject(name);\n          };\n\n          img.src = url;\n        })];\n      });\n    });\n  };\n\n  return Atlas;\n}();\n\nexport default Atlas;","/**\n * Resolution in CSS pixels. If omitted, the real resolution\n * of the device is taken. On smartphones, for instance,\n * the resolution is often greater than 1.\n *\n * Return `true` if the size has changed.\n */\nexport default (function (gl, resolution) {\n  if (resolution === void 0) {\n    resolution = 0;\n  }\n\n  if (resolution <= 0) {\n    resolution = window.devicePixelRatio;\n  }\n\n  var canvas = gl.canvas;\n  var displayWidth = Math.floor(canvas.clientWidth * resolution);\n  var displayHeight = Math.floor(canvas.clientHeight * resolution); // Check if the canvas is not the same size.\n\n  if (canvas.width !== displayWidth || canvas.height !== displayHeight) {\n    // Make the canvas the same size\n    canvas.width = displayWidth;\n    canvas.height = displayHeight;\n    gl.viewport(0, 0, displayWidth, displayHeight);\n    return true;\n  }\n\n  return false;\n});","var __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nimport Atlas from './atlas';\nimport Resize from './webgl/resize';\n\nvar FlatLand =\n/** @class */\nfunction () {\n  function FlatLand(canvas) {\n    var _this = this;\n\n    this.activePainters = [];\n    this.isRendering = false;\n    this.resolution = 1;\n    this.onAnimation = null;\n\n    this.render = function (time) {\n      var e_1, _a;\n\n      if (_this.isRendering) window.requestAnimationFrame(_this.render);else return;\n      Resize(_this.gl, _this.resolution);\n\n      try {\n        try {\n          for (var _b = __values(_this.activePainters), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var painter = _c.value;\n            painter.render(time);\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n\n        var onAnimation = _this.onAnimation;\n\n        if (typeof onAnimation === 'function') {\n          onAnimation(time);\n        }\n      } catch (ex) {\n        console.error(ex);\n\n        _this.stop();\n\n        console.error(\"###############################\");\n        console.error(\"# Rendering has been stopped! #\");\n        console.error(\"###############################\");\n      }\n    };\n\n    var gl = canvas.getContext(\"webgl\", {// Specify WebGL options.\n    });\n    if (!gl) throw \"Unable to create a WegGL context!\";\n    this.gl = gl;\n    this.atlases = new Map();\n    this.painters = new Map();\n  }\n\n  FlatLand.prototype.getAtlas = function (name) {\n    var atlases = this.atlases;\n    return atlases.get(name) || null;\n  };\n\n  FlatLand.prototype.createAtlas = function (params) {\n    var atlas = new Atlas(this.gl, params);\n    this.atlases.set(params.name, atlas);\n    return atlas;\n  };\n\n  FlatLand.prototype.destroyAtlas = function (name) {\n    var atlases = this.atlases;\n    var atlas = atlases.get(name);\n    if (!atlas) return false;\n    atlases.delete(name);\n    atlas.destroy();\n    return true;\n  };\n  /**\n   * If a painter with the same name already exists, return false and don't add the new one.\n   */\n\n\n  FlatLand.prototype.$attachPainter = function (painter) {\n    if (this.painters.has(painter.name)) return false;\n    this.painters.set(painter.name, painter);\n    this.activePainters = this.activePainters.filter(function (p) {\n      return p.name;\n    });\n    this.activePainters.push(painter);\n    return true;\n  };\n\n  FlatLand.prototype.$detachPainter = function (name) {\n    if (this.painters.has(name)) return false;\n    this.painters.delete(name);\n    this.activePainters = this.activePainters.filter(function (p) {\n      return p.name;\n    });\n    return true;\n  };\n\n  Object.defineProperty(FlatLand.prototype, \"width\", {\n    get: function get() {\n      return this.gl.drawingBufferWidth;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FlatLand.prototype, \"height\", {\n    get: function get() {\n      return this.gl.drawingBufferHeight;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  FlatLand.prototype.start = function () {\n    if (this.isRendering) return;\n    this.isRendering = true;\n    window.requestAnimationFrame(this.render);\n  };\n\n  FlatLand.prototype.stop = function () {\n    this.isRendering = false;\n  };\n\n  return FlatLand;\n}();\n\nexport default FlatLand;","import Painter from './painter';\nimport Scene from './scene';\nexport default {\n  Painter: Painter,\n  Scene: Scene\n};","import React from 'react';\nimport './App.css';\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n        <h1>Tutorials</h1>\n        <ul>\n            <li><a href=\"tuto-clear.html\">Hello world!</a></li>\n            <li><a href=\"tuto-background.html\">Salable background</a></li>\n        </ul>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from \"react\"\n\nimport \"./canvas.css\"\n\ninterface ICanvasProps {\n    init: (canvas: HTMLCanvasElement) => void\n}\n\nexport default class Canvas extends React.Component<ICanvasProps, {}> {\n    private readonly ref: React.RefObject<HTMLCanvasElement> = React.createRef();\n\n    componentDidMount() {\n        const canvas = this.ref.current\n        if (!canvas) return\n        this.props.init(canvas)\n    }\n\n    render() {\n        return (<canvas ref={this.ref} className=\"Canvas\"></canvas>)\n    }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport FlatLand from 'flat-land-gl'\n\nimport Canvas from '../../../canvas'\n\nReactDOM.render(<Canvas init={init}/>, document.getElementById('root'));\n\n\nfunction init(canvas: HTMLCanvasElement) {\n    const scene = new FlatLand.Scene(canvas)\n    new FlatLand.Painter.Clear(\"background\", scene)\n    scene.start()\n}\n"],"sourceRoot":""}