(this.webpackJsonptest=this.webpackJsonptest||[]).push([[1],[,,function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}r.d(e,"a",(function(){return o}))},function(t,e,r){"use strict";function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";function n(t){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function i(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}r.d(e,"a",(function(){return i}))},function(t,e,r){"use strict";function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}r.d(e,"a",(function(){return o}))},function(t,e,r){"use strict";var n=function(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=(new Float32Array).BYTES_PER_ELEMENT,i=function(){function t(t,e,r){if(void 0===r&&(r={}),"string"!==typeof e.vert)throw Error("[webgl.program] Missing attribute `vert` in argument `codes`!");if("string"!==typeof e.frag)throw Error("[webgl.program] Missing attribute `frag` in argument `codes`!");e=function(t,e){return{vert:a(t.vert,e),frag:a(t.frag,e)}}(e,r),this.gl=t,Object.freeze(this.gl),this.BPE=o,Object.freeze(this.BPE),this._typesNamesLookup=function(t){var e={};for(var r in t)if(r===r.toUpperCase()){var n=t[r];"number"===typeof n&&(e[n]=r)}return e}(t);var n=t.createProgram();if(!n)throw Error("Unable to create WebGLProgram!");this.program=n;var i=function(t,e){return u(t.VERTEX_SHADER,t,e)}(t,e.vert);t.attachShader(n,i);var c=function(t,e){return u(t.FRAGMENT_SHADER,t,e)}(t,e.frag);t.attachShader(n,c),t.linkProgram(n),this.use=function(){t.useProgram(n)},this.attribs=this.createAttributes(),this.uniforms=this.createUniforms()}return t.prototype.createAttributes=function(){for(var t=this.gl,e=this.program,r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var i=t.getActiveAttrib(e,o);i&&(i.typeName=this.getTypeName(i.type),i.length=this.getSize(t,i),i.location=t.getAttribLocation(e,i.name),r[i.name]=i,Object.defineProperty(this,"$"+i.name,{value:i.location,writable:!1,enumerable:!0,configurable:!1}))}return r},t.prototype.getSize=function(t,e){switch(e.type){case t.FLOAT_VEC4:return 4;case t.FLOAT_VEC3:return 3;case t.FLOAT_VEC2:return 2;case t.FLOAT:return 1;default:throw Error("[webgl.program:getSize] I don't know the size of the attribute '"+e.name+"' because I don't know the type "+this.getTypeName(e.type)+"!")}},t.prototype.use=function(){this.gl.useProgram(this.program)},t.prototype.getTypeName=function(t){return this._typesNamesLookup[t]},t.prototype.bindAttribs=function(t){for(var e,r,i,a,u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];var s=this,f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,t);var l=0;try{for(var h=n(u),p=h.next();!p.done;p=h.next()){var m=p.value;if(!(v=s.attribs[m]))throw Error('Cannot find attribute "'+m+'"!\nIt may be not active because unused in the shader.\nAvailable attributes are: '+Object.keys(s.attribs).map((function(t){return'"'+t+'"'})).join(", ")+" ("+s.attribs.length+")");l+=v.size*v.length*o}}catch(E){e={error:E}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}var y=0;try{for(var g=n(u),b=g.next();!b.done;b=g.next()){var d=b.value,v=s.attribs[d];f.enableVertexAttribArray(v.location),f.vertexAttribPointer(v.location,v.size*v.length,f.FLOAT,!1,l,y),y+=v.size*v.length*o}}catch(T){i={error:T}}finally{try{b&&!b.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}},t.prototype.setUniform=function(t,e){this["$"+t]=e},t.prototype.createUniforms=function(){for(var t=this.gl,e=this.program,r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=0;o<n;o++){var i=t.getActiveUniform(e,o);if(i){var a=t.getUniformLocation(e,i.name);a&&(r[i.name]=a,Object.defineProperty(this,"$"+i.name,{set:this.createUniformSetter(i,r[i.name],this._typesNamesLookup),get:this.createUniformGetter(i),enumerable:!0,configurable:!1}))}}return r},t.prototype.createUniformSetter=function(t,e,r){var n=this.gl,o="_$"+t.name;switch(t.type){case n.BYTE:case n.UNSIGNED_BYTE:case n.SHORT:case n.UNSIGNED_SHORT:case n.INT:case n.UNSIGNED_INT:case n.SAMPLER_2D:return 1===t.size?function(t){n.uniform1i(e,t),this[o]=t}:function(t){n.uniform1iv(e,t),this[o]=t};case n.FLOAT:return 1===t.size?function(t){n.uniform1f(e,t),this[o]=t}:function(t){n.uniform1fv(e,t),this[o]=t};case n.FLOAT_VEC2:if(1===t.size)return function(t){n.uniform2fv(e,t),this[o]=t};throw Error("[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_VEC2 in uniform `"+t.name+"'!'");case n.FLOAT_VEC3:if(1===t.size)return function(t){n.uniform3fv(e,t),this[o]=t};throw Error("[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_VEC3 in uniform `"+t.name+"'!'");case n.FLOAT_VEC4:if(1===t.size)return function(t){n.uniform4fv(e,t),this[o]=t};throw Error("[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_VEC4 in uniform `"+t.name+"'!'");case n.FLOAT_MAT3:if(1===t.size)return function(t){n.uniformMatrix3fv(e,!1,t),this[o]=t};throw Error("[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_MAT3 in uniform `"+t.name+"'!'");case n.FLOAT_MAT4:if(1===t.size)return function(t){n.uniformMatrix4fv(e,!1,t),this[o]=t};throw Error("[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_MAT4 in uniform `"+t.name+"'!'");default:throw Error("[webgl.program.createWriter] Don't know how to deal with uniform `"+t.name+"` of type "+r[t.type]+"!")}},t.prototype.createUniformGetter=function(t){var e="_$"+t.name;return function(){return this[e]}},t}();function a(t,e){return t.split("\n").map((function(t){if("#include"!==t.trim().substr(0,8))return t;var r=t.indexOf("#include")+8,n=t.substr(r).trim();"'<\"".indexOf(n.charAt(0))>-1&&(n=n.substr(1,n.length-2));var o=e[n];if("string"!==typeof o)throw console.error("Include <"+n+"> not found in ",e),Error("Include not found in shader: "+n);return o})).join("\n")}function u(t,e,r){if(t!==e.VERTEX_SHADER&&t!==e.FRAGMENT_SHADER)throw Error("Type must be VERTEX_SHADER or FRAGMENT_SHADER!");var n=e.createShader(t);if(!n)throw Error("Unable to create a "+(t===e.VERTEX_SHADER?"VERTEX":"FRAGMENT")+" shader!");if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(r),console.error("An error occurred compiling the shader: "+e.getShaderInfoLog(n)),Error("Unable to create a "+(t===e.VERTEX_SHADER?"VERTEX":"FRAGMENT")+" shader!");return n}var c=function(){function t(t,e){this._name=t,this.scene=e,e.$attachPainter(this)}return t.prototype.destroy=function(){this.scene.$detachPainter(this.name)},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.createProgram=function(t,e){return void 0===e&&(e={}),new i(this.scene.gl,t,e)},t.prototype.fatal=function(t){throw console.error('Fatal error in Painter "'+this.name+'":',t),Error(t)},t}();function s(t,e){void 0===e&&(e="");var r=typeof t;return"number"!==r||isNaN(t)?"string"===r?t:e:""+t}var f=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=function(t){function e(e,r,n){var o=t.call(this,e,r)||this,i=n.atlasName,a=r.getAtlas(i);if(!a)throw o.fatal('Atlas "'+i+'" not found!');o.atlas=a,o.prg=o.createProgram({vert:h(s(n.align).toUpperCase()),frag:p});var u=r.gl,c=u.createBuffer();if(!c)throw o.fatal("Not enough memory to create an array buffer!");return u.bindBuffer(u.ARRAY_BUFFER,c),u.bufferData(u.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),u.STATIC_DRAW),o.buff=c,o}return f(e,t),e.prototype.render=function(){var t=this.scene,e=this.prg,r=this.atlas,n=this.buff,o=t.gl;o.disable(o.DEPTH_TEST),e.use(),r.activate(),e.$uniTexture=0,e.setUniform("uniAspectRatio",t.width/t.height),e.bindAttribs(n,"attXY"),o.bindBuffer(o.ARRAY_BUFFER,n),o.drawArrays(o.TRIANGLE_STRIP,0,4)},e}(c);function h(t){var e="",r="";return-1!==t.indexOf("B")?r="location.y -= uniAspectRatio - 1.0;":-1!==t.indexOf("T")&&(r="location.y += uniAspectRatio - 1.0;"),-1!==t.indexOf("R")?e="location.x -= 1.0 / uniAspectRatio - 1.0;":-1!==t.indexOf("L")&&(e="location.x += 1.0 / uniAspectRatio - 1.0;"),"uniform float uniAspectRatio;\nattribute vec2 attXY;\nvarying vec2 varUV;\n\nvoid main() {\n  varUV = attXY;\n  vec2 location = 2.0 * (attXY - vec2(0.5, 0.5));\n\n  if (uniAspectRatio > 1.0) {\n    location.y *= uniAspectRatio;"+r+"\n  } else {\n    location.x /= uniAspectRatio;"+e+"\n  }\n\n  gl_Position = vec4(location.x, -location.y, -1.0, 1.0);\n}"}var p="precision mediump float;\nuniform sampler2D uniTexture;\nvarying vec2 varUV;\n\nvoid main() {\n  vec4 color = texture2D( uniTexture, varUV );\n  gl_FragColor = color;\n}",m=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),y={Background:l,Clear:function(t){function e(e,r){var n=t.call(this,e,r)||this;return n._red=.8,n._green=.4,n._blue=.2,n._alpha=1,n}return m(e,t),Object.defineProperty(e.prototype,"red",{get:function(){return this._red},set:function(t){this._red=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this._green},set:function(t){this._green=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this._blue},set:function(t){this._blue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha=t},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this.scene.gl;t.clearColor(this._red,this._green,this._blue,this._alpha),t.clear(t.COLOR_BUFFER_BIT)},e}(c),Painter:c},g=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(e){i(e)}}function u(t){try{c(n.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))},b=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},d=function(){function t(t,e){this.gl=t,this.params=e,this._ready=!1,this._width=0,this._height=0;var r=t.createTexture();if(!r)throw"Unable to create a new texture!";this.texture=r,t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.loadImage(e.image)}return Object.defineProperty(t.prototype,"name",{get:function(){return this.params.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return this._ready},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._ready=!1;var t=this.gl,e=this.texture;t.deleteTexture(e)},t.prototype.activate=function(t){void 0===t&&(t=0);var e=this.gl,r=this.texture,n=[e.TEXTURE0,e.TEXTURE1,e.TEXTURE2,e.TEXTURE3,e.TEXTURE4,e.TEXTURE5,e.TEXTURE6,e.TEXTURE7];e.activeTexture(n[Math.abs(t)%n.length]),e.bindTexture(e.TEXTURE_2D,r)},t.prototype.loadImage=function(t){return g(this,void 0,void 0,(function(){var e;return b(this,(function(r){return e=this,[2,new Promise((function(r,n){var o=new Image;e._ready=!1,o.onload=function(){var t=e.gl,n=e.params,i=e.texture,a=n.name;t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),e._ready=!0,e._width=o.width,e._height=o.height,r(a)},o.onerror=function(){console.error('Unable to load image "'+name+'": ',t),n(name)},o.src=t}))]}))}))},t}(),v=function(t,e){void 0===e&&(e=0),e<=0&&(e=window.devicePixelRatio);var r=t.canvas,n=Math.floor(r.clientWidth*e),o=Math.floor(r.clientHeight*e);return(r.width!==n||r.height!==o)&&(r.width=n,r.height=o,t.viewport(0,0,n,o),!0)},E=function(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T=function(){function t(t){var e=this;this.activePainters=[],this.isRendering=!1,this.resolution=1,this.onAnimation=null,this.render=function(t){var r,n;if(e.isRendering){window.requestAnimationFrame(e.render),v(e.gl,e.resolution);try{try{for(var o=E(e.activePainters),i=o.next();!i.done;i=o.next()){i.value.render(t)}}catch(u){r={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}var a=e.onAnimation;"function"===typeof a&&a(t)}catch(c){console.error(c),e.stop(),console.error("###############################"),console.error("# Rendering has been stopped! #"),console.error("###############################")}}};var r=t.getContext("webgl",{});if(!r)throw"Unable to create a WegGL context!";this.gl=r,this.atlases=new Map,this.painters=new Map}return t.prototype.getAtlas=function(t){return this.atlases.get(t)||null},t.prototype.createAtlas=function(t){var e=new d(this.gl,t);return this.atlases.set(t.name,e),e},t.prototype.destroyAtlas=function(t){var e=this.atlases,r=e.get(t);return!!r&&(e.delete(t),r.destroy(),!0)},t.prototype.$attachPainter=function(t){return!this.painters.has(t.name)&&(this.painters.set(t.name,t),this.activePainters=this.activePainters.filter((function(t){return t.name})),this.activePainters.push(t),!0)},t.prototype.$detachPainter=function(t){return!this.painters.has(t)&&(this.painters.delete(t),this.activePainters=this.activePainters.filter((function(t){return t.name})),!0)},Object.defineProperty(t.prototype,"width",{get:function(){return this.gl.drawingBufferWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.gl.drawingBufferHeight},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.isRendering||(this.isRendering=!0,window.requestAnimationFrame(this.render))},t.prototype.stop=function(){this.isRendering=!1},t}();e.a={Painter:y,Scene:T}},function(t,e,r){},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),i=r(1),a=r.n(i),u=(r(8),r(9),function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Tutorials"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"tuto-clear.html"},"Hello world!")),o.a.createElement("li",null,o.a.createElement("a",{href:"tuto-background.html"},"Salable background"))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(u,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r(2),o=r(3),i=r(5),a=r(4),u=r(6),c=r(0),s=r.n(c),f=(r(12),function(t){function e(){var t,r;Object(n.a)(this,e);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return(r=Object(i.a)(this,(t=Object(a.a)(e)).call.apply(t,[this].concat(u)))).ref=s.a.createRef(),r}return Object(u.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this.ref.current;t&&this.props.init(t)}},{key:"render",value:function(){return s.a.createElement("canvas",{ref:this.ref,className:"Canvas"})}}]),e}(s.a.Component))},function(t,e,r){},,,,,,,,,,function(t,e,r){r(10),t.exports=r(23)},function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),i=r(1),a=r.n(i),u=r(7),c=r(11);a.a.render(o.a.createElement(c.a,{init:function(t){var e=new u.a.Scene(t);new u.a.Painter.Clear("background",e),e.start()}}),document.getElementById("root"))}],[[22,4,0]]]);
//# sourceMappingURL=index.731f7d27.45d05f8f.chunk.js.map